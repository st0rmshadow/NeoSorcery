# Resolve grimoire paths
if [[ "$1" == "-h" || "$1" == "--help" || "$1" == "help" ]]; then
  echo "Usage: scribe
Options:
  -h, --help     Show this help message and exit

Description:
  Pulls or updates the system grimoire from the remote Git repository."
  exit 0
fi

if [[ -d "$HOME/.sorcery/grimoire" ]]; then
  GRIMOIRE_PATH_USER="$HOME/.sorcery/grimoire"
else
  GRIMOIRE_PATH_USER=""
fi
GRIMOIRE_PATH_GLOBAL="/etc/neosorcery/grimoire"

#!/usr/bin/env zsh
GRIMOIRE_URL="https://github.com/st0rmshadow/NeoSorcerer_grimoire.git"
GRIMOIRE_DIR=""$GRIMOIRE_PATH_USER" "$GRIMOIRE_PATH_GLOBAL""
echo "Updating spells from $GRIMOIRE_URL..."
if [[ -d "$GRIMOIRE_DIR/.git" ]]; then
  git -C "$GRIMOIRE_DIR" pull && echo "Pulled latest changes."
else
  rm -rf "$GRIMOIRE_DIR"
  git clone "$GRIMOIRE_URL" "$GRIMOIRE_DIR" && echo "Cloned new grimoire."
fi
